:root{--bg-primary: #0a0e27;--bg-secondary: #16213e;--bg-tertiary: #1a2942;--accent-primary: #16c79a;--accent-secondary: #ff6b6b;--accent-tertiary: #4ecdc4;--text-primary: #e0e0e0;--text-secondary: #8892b0;--border-color: #0f3460;--transition: .5s ease;--shadow-color: rgba(0, 0, 0, .5);--shadow-accent: rgba(22, 199, 154, .5);--shadow-secondary: rgba(255, 107, 107, .5);--shadow-tertiary: rgba(78, 205, 196, .5);--btn-text-hover: #0a0e27;--input-track-bg: #1a1a2e;--keyboard-bg: #0a0e27;--white-key-bg: linear-gradient(180deg, #ffffff 0%, #f0f0f0 100%);--white-key-hover: linear-gradient(180deg, #f0f0f0 0%, #e0e0e0 100%);--white-key-border: #333;--black-key-bg: linear-gradient(180deg, #2a2a2a 0%, #000000 100%);--black-key-hover: linear-gradient(180deg, #3a3a3a 0%, #1a1a1a 100%);--black-key-border: #000;--key-label-color: #666;--delete-btn-border: #0a0e27;--custom-preset-bg: linear-gradient(135deg, #9b59b6 0%, #bb6bd9 100%);--custom-preset-hover: linear-gradient(135deg, #bb6bd9 0%, #d98be0 100%);--custom-preset-border: rgba(155, 89, 182, .3);--custom-preset-shadow: rgba(155, 89, 182, .5);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;line-height:1.5;font-weight:400;color-scheme:dark;color:var(--text-primary);background-color:var(--bg-primary);font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}body.light-mode{color-scheme:light;--bg-primary: #fef6e8;--bg-secondary: #fff8f0;--bg-tertiary: #fff5e6;--accent-primary: #d4763a;--accent-secondary: #c94b4b;--accent-tertiary: #2a9d8f;--text-primary: #3d2814;--text-secondary: #7a5a3a;--border-color: #e8c4a0;--shadow-color: rgba(0, 0, 0, .15);--shadow-accent: rgba(212, 118, 58, .4);--shadow-secondary: rgba(201, 75, 75, .4);--shadow-tertiary: rgba(42, 157, 143, .4);--btn-text-hover: #fff8f0;--input-track-bg: #f5e6d3;--keyboard-bg: #f5e6d3;--white-key-bg: linear-gradient(180deg, #ffffff 0%, #f8f4ef 100%);--white-key-hover: linear-gradient(180deg, #f8f4ef 0%, #f0e8dd 100%);--white-key-border: #d4c4a8;--black-key-bg: linear-gradient(180deg, #4a3f35 0%, #2d2620 100%);--black-key-hover: linear-gradient(180deg, #5a4f45 0%, #3d3630 100%);--black-key-border: #2d2620;--key-label-color: #7a5a3a;--delete-btn-border: #fef6e8;--custom-preset-bg: linear-gradient(135deg, #8e44ad 0%, #a569bd 100%);--custom-preset-hover: linear-gradient(135deg, #a569bd 0%, #bb8fce 100%);--custom-preset-border: rgba(142, 68, 173, .4);--custom-preset-shadow: rgba(142, 68, 173, .4)}.theme-loading *{transition:none!important}*{box-sizing:border-box}body{margin:0;padding:0;min-height:100vh;background:var(--bg-primary);transition:background var(--transition),color var(--transition)}#app{max-width:1600px;margin:0 auto;padding:20px;min-height:100vh}.app-header{text-align:center;margin-bottom:30px}.app-header h1{margin:0 0 8px;font-size:2.2em;color:var(--accent-primary);font-weight:600;letter-spacing:3px;text-transform:uppercase}.app-header p{margin:0;font-size:1em;color:var(--text-secondary);letter-spacing:1px}.main-controls{background:linear-gradient(135deg,var(--bg-secondary) 0%,var(--bg-primary) 100%);border-radius:16px;padding:25px 30px;margin-bottom:25px;box-shadow:0 8px 32px var(--shadow-color);border:1px solid var(--border-color);transition:background var(--transition),box-shadow var(--transition),border-color var(--transition)}.controls-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:25px;margin-bottom:25px}.control-item{display:flex;flex-direction:column;gap:10px}.control-item label{font-size:.75em;color:var(--accent-primary);font-weight:700;text-transform:uppercase;letter-spacing:2px}.control-item input[type=range]{width:100%;height:6px;background:var(--input-track-bg);border-radius:3px;outline:none;-webkit-appearance:none;border:1px solid var(--border-color)}.control-item input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:var(--accent-primary);cursor:pointer;box-shadow:0 0 8px var(--shadow-accent);transition:all .2s}.control-item input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 0 16px var(--shadow-accent)}.control-item input[type=range]::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:var(--accent-primary);cursor:pointer;border:none;box-shadow:0 0 8px var(--shadow-accent);transition:all .2s}.control-item input[type=range]::-moz-range-thumb:hover{transform:scale(1.2);box-shadow:0 0 16px var(--shadow-accent)}.value-display{font-size:1.4em;color:var(--accent-primary);text-align:center;padding:12px;background:var(--bg-primary);border-radius:8px;font-weight:700;letter-spacing:2px;border:1px solid var(--border-color);font-family:Courier New,monospace}.envelope-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:20px;margin-top:25px;padding-top:25px;border-top:1px solid var(--border-color)}.envelope-param{display:flex;flex-direction:column;gap:8px}.envelope-param label{font-size:.7em;color:var(--accent-secondary);font-weight:700;text-transform:uppercase;letter-spacing:1.5px;text-align:center}.envelope-param input[type=range]{width:100%;height:6px;background:var(--input-track-bg);border-radius:3px;outline:none;-webkit-appearance:none;border:1px solid var(--border-color)}.envelope-param input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent-secondary);cursor:pointer;box-shadow:0 0 8px var(--shadow-secondary);transition:all .2s}.envelope-param input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 0 16px var(--shadow-secondary)}.envelope-param input[type=range]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--accent-secondary);cursor:pointer;border:none;box-shadow:0 0 8px var(--shadow-secondary);transition:all .2s}.envelope-param input[type=range]::-moz-range-thumb:hover{transform:scale(1.2);box-shadow:0 0 16px var(--shadow-secondary)}.envelope-display{font-size:1em;color:var(--accent-secondary);text-align:center;padding:8px;background:color-mix(in srgb,var(--accent-secondary) 10%,transparent);border-radius:6px;font-weight:700;letter-spacing:1.5px;border:1px solid color-mix(in srgb,var(--accent-secondary) 20%,transparent);font-family:Courier New,monospace}.delay-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:20px;margin-top:25px;padding-top:25px;border-top:1px solid var(--border-color)}.delay-param{display:flex;flex-direction:column;gap:8px}.delay-param label{font-size:.7em;color:var(--accent-tertiary);font-weight:700;text-transform:uppercase;letter-spacing:1.5px;text-align:center}.delay-param input[type=range]{width:100%;height:6px;background:var(--input-track-bg);border-radius:3px;outline:none;-webkit-appearance:none;border:1px solid var(--border-color)}.delay-param input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent-tertiary);cursor:pointer;box-shadow:0 0 8px var(--shadow-tertiary);transition:all .2s}.delay-param input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 0 16px var(--shadow-tertiary)}.delay-param input[type=range]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--accent-tertiary);cursor:pointer;border:none;box-shadow:0 0 8px var(--shadow-tertiary);transition:all .2s}.delay-param input[type=range]::-moz-range-thumb:hover{transform:scale(1.2);box-shadow:0 0 16px var(--shadow-tertiary)}.delay-display{font-size:1em;color:var(--accent-tertiary);text-align:center;padding:8px;background:color-mix(in srgb,var(--accent-tertiary) 10%,transparent);border-radius:6px;font-weight:700;letter-spacing:1.5px;border:1px solid color-mix(in srgb,var(--accent-tertiary) 20%,transparent);font-family:Courier New,monospace}.action-buttons{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}button{border-radius:6px;border:1px solid color-mix(in srgb,var(--accent-primary) 30%,transparent);padding:12px 24px;font-size:.85em;font-weight:700;font-family:inherit;background:linear-gradient(135deg,var(--bg-secondary) 0%,var(--bg-primary) 100%);color:var(--accent-primary);cursor:pointer;transition:all .2s;text-transform:uppercase;letter-spacing:1.5px;box-shadow:0 4px 12px var(--shadow-color)}button:hover{background:var(--accent-primary);color:var(--btn-text-hover);transform:translateY(-2px);box-shadow:0 6px 20px var(--shadow-accent);border-color:var(--accent-primary)}button:active{transform:translateY(0)}button.selected{background:var(--accent-primary);color:var(--btn-text-hover);border-color:var(--accent-primary);box-shadow:0 6px 20px var(--shadow-accent)}button.create-btn{background:var(--accent-secondary);border-color:color-mix(in srgb,var(--accent-secondary) 30%,transparent);color:#fff}button.create-btn:hover{background:color-mix(in srgb,var(--accent-secondary) 80%,white);color:#fff;border-color:var(--accent-secondary);box-shadow:0 6px 20px var(--shadow-secondary)}button.custom-preset{position:relative;background:var(--custom-preset-bg);border-color:var(--custom-preset-border);color:#fff}button.custom-preset:hover{background:var(--custom-preset-hover);border-color:var(--custom-preset-border);box-shadow:0 6px 20px var(--custom-preset-shadow);color:#fff}.delete-custom{position:absolute;top:-6px;right:-6px;background:var(--accent-secondary);color:#fff;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;cursor:pointer;border:2px solid var(--delete-btn-border);transition:all .2s}.delete-custom:hover{background:color-mix(in srgb,var(--accent-secondary) 80%,black);transform:scale(1.2)}button.playing{background:var(--accent-primary);color:var(--btn-text-hover);animation:pulse 1.5s ease-in-out infinite;box-shadow:0 6px 20px var(--shadow-accent);border-color:var(--accent-primary)}@keyframes pulse{0%,to{box-shadow:0 6px 20px var(--shadow-accent)}50%{box-shadow:0 6px 30px var(--shadow-accent)}}#play-btn{font-size:1em;padding:14px 32px}.keyboard-section{background:linear-gradient(135deg,var(--bg-secondary) 0%,var(--bg-primary) 100%);border-radius:16px;padding:30px;margin-bottom:25px;box-shadow:0 8px 32px var(--shadow-color);border:1px solid var(--border-color);transition:background var(--transition),box-shadow var(--transition),border-color var(--transition)}.keyboard-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;flex-wrap:wrap;gap:15px}.keyboard-section h2{margin:0;font-size:1.5em;color:var(--accent-primary);font-weight:600;letter-spacing:3px;text-transform:uppercase}.octave-controls{display:flex;align-items:center;gap:12px}.keyboard-hint{text-align:center;font-size:.85em;color:var(--text-secondary);margin-bottom:15px;font-style:italic;opacity:.8}.octave-btn{border-radius:6px;border:1px solid color-mix(in srgb,var(--accent-primary) 30%,transparent);padding:8px 16px;font-size:.8em;font-weight:700;font-family:inherit;background:linear-gradient(135deg,var(--bg-secondary) 0%,var(--bg-primary) 100%);color:var(--accent-primary);cursor:pointer;transition:all .2s;text-transform:uppercase;letter-spacing:1.5px;box-shadow:0 4px 12px var(--shadow-color)}.octave-btn:hover{background:var(--accent-primary);color:var(--btn-text-hover);transform:translateY(-2px);box-shadow:0 6px 20px var(--shadow-accent);border-color:var(--accent-primary)}.octave-btn:active{transform:translateY(0)}.octave-display{font-size:.9em;color:var(--accent-primary);font-weight:700;letter-spacing:1.5px;min-width:90px;text-align:center}.keyboard{display:flex;justify-content:center;align-items:flex-end;height:200px;background:var(--keyboard-bg);border-radius:12px;padding:20px;position:relative;border:1px solid var(--border-color);transition:background var(--transition),border-color var(--transition)}.piano-key{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .1s;position:relative;display:flex;align-items:flex-end;justify-content:center;padding-bottom:10px}.white-key{width:50px;height:160px;background:var(--white-key-bg);border:2px solid var(--white-key-border);border-radius:0 0 4px 4px;margin:0 1px;box-shadow:0 4px 8px var(--shadow-color);z-index:1}.white-key:hover{background:var(--white-key-hover);transform:translateY(2px)}.white-key.active{background:var(--accent-primary);box-shadow:0 2px 4px var(--shadow-color),0 0 20px var(--shadow-accent);transform:translateY(4px)}.black-key{width:32px;height:100px;background:var(--black-key-bg);border:2px solid var(--black-key-border);border-radius:0 0 3px 3px;margin-left:-17px;margin-right:-17px;box-shadow:0 4px 8px var(--shadow-color);z-index:2}.black-key:hover{background:var(--black-key-hover);transform:translateY(2px)}.black-key.active{background:var(--accent-secondary);box-shadow:0 2px 4px var(--shadow-color),0 0 20px var(--shadow-secondary);transform:translateY(4px)}.key-label{font-size:.75em;color:var(--key-label-color);font-weight:600;text-align:center}.white-key.active .key-label{color:var(--btn-text-hover);font-weight:700}.equalizer-section{background:linear-gradient(135deg,var(--bg-secondary) 0%,var(--bg-primary) 100%);border-radius:16px;padding:30px;box-shadow:0 8px 32px var(--shadow-color);border:1px solid var(--border-color);transition:background var(--transition),box-shadow var(--transition),border-color var(--transition)}.equalizer-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;flex-wrap:wrap;gap:15px}.equalizer-section h2{margin:0;font-size:1.5em;color:var(--accent-primary);font-weight:600;letter-spacing:3px;text-transform:uppercase}.equalizer-container{display:flex;justify-content:space-evenly;align-items:flex-end;gap:12px;padding:20px 15px;background:var(--keyboard-bg);border-radius:12px;min-height:300px;position:relative;border:1px solid var(--border-color);transition:background var(--transition),border-color var(--transition)}.equalizer-container:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:repeating-linear-gradient(0deg,transparent,transparent 49px,color-mix(in srgb,var(--accent-primary) 5%,transparent) 49px,color-mix(in srgb,var(--accent-primary) 5%,transparent) 50px);pointer-events:none;border-radius:12px}.eq-channel{flex:1;display:flex;flex-direction:column;align-items:center;gap:12px;position:relative;max-width:100px}.eq-slider-container{flex:1;width:100%;display:flex;flex-direction:column;align-items:center;position:relative;min-height:250px}.eq-channel input[type=range]{-webkit-appearance:slider-vertical;writing-mode:bt-lr;width:8px;height:100%;background:transparent;outline:none;cursor:pointer;position:relative;z-index:2}.eq-channel input[type=range]::-webkit-slider-runnable-track{width:8px;background:transparent;border:none}.eq-channel input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:32px;height:16px;border-radius:8px;cursor:pointer;position:relative;z-index:3;box-shadow:0 2px 8px var(--shadow-color);transition:all .15s}.eq-channel.odd input[type=range]::-webkit-slider-thumb{background:var(--accent-secondary)}.eq-channel.even input[type=range]::-webkit-slider-thumb{background:var(--accent-tertiary)}.eq-channel input[type=range]::-webkit-slider-thumb:hover{transform:scaleX(1.2)}.eq-channel input[type=range]::-moz-range-thumb{width:32px;height:16px;border-radius:8px;cursor:pointer;border:none;box-shadow:0 2px 8px var(--shadow-color);transition:all .15s}.eq-channel.odd input[type=range]::-moz-range-thumb{background:var(--accent-secondary)}.eq-channel.even input[type=range]::-moz-range-thumb{background:var(--accent-tertiary)}.eq-channel input[type=range]::-moz-range-thumb:hover{transform:scaleX(1.2)}.eq-level-bar{position:absolute;bottom:0;width:24px;background:linear-gradient(180deg,color-mix(in srgb,var(--accent-primary) 90%,transparent) 0%,color-mix(in srgb,var(--accent-primary) 60%,transparent) 50%,color-mix(in srgb,var(--accent-primary) 30%,transparent) 100%);border-radius:4px;transition:height .15s ease-out;pointer-events:none;z-index:1;box-shadow:0 0 20px var(--shadow-accent)}.eq-channel.odd .eq-level-bar{background:linear-gradient(180deg,color-mix(in srgb,var(--accent-secondary) 90%,transparent) 0%,color-mix(in srgb,var(--accent-secondary) 60%,transparent) 50%,color-mix(in srgb,var(--accent-secondary) 30%,transparent) 100%);box-shadow:0 0 20px var(--shadow-secondary)}.eq-channel.even .eq-level-bar{background:linear-gradient(180deg,color-mix(in srgb,var(--accent-tertiary) 90%,transparent) 0%,color-mix(in srgb,var(--accent-tertiary) 60%,transparent) 50%,color-mix(in srgb,var(--accent-tertiary) 30%,transparent) 100%);box-shadow:0 0 20px var(--shadow-tertiary)}.eq-label{font-size:.9em;font-weight:700;letter-spacing:1px;order:-1;min-height:24px}.eq-channel.odd .eq-label{color:var(--accent-secondary)}.eq-channel.even .eq-label{color:var(--accent-tertiary)}.eq-value{font-size:.75em;color:var(--accent-primary);font-weight:600;background:color-mix(in srgb,var(--accent-primary) 10%,transparent);padding:4px 8px;border-radius:4px;min-width:42px;text-align:center;border:1px solid color-mix(in srgb,var(--accent-primary) 20%,transparent);font-family:Courier New,monospace}.legend{display:flex;gap:30px;justify-content:center;margin-top:25px;padding-top:20px;border-top:1px solid var(--border-color)}.legend-item{display:flex;align-items:center;gap:10px;font-size:.85em;color:var(--text-secondary);letter-spacing:1px}.legend-color{width:20px;height:20px;border-radius:4px;box-shadow:0 0 10px currentColor}.legend-color.odd{background:var(--accent-secondary);color:var(--shadow-secondary)}.legend-color.even{background:var(--accent-tertiary);color:var(--shadow-tertiary)}.melody-section{background:linear-gradient(135deg,var(--bg-secondary) 0%,var(--bg-primary) 100%);border-radius:16px;padding:30px;margin-top:25px;box-shadow:0 8px 32px var(--shadow-color);border:1px solid var(--border-color);transition:background var(--transition),box-shadow var(--transition),border-color var(--transition)}.melody-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:15px}.melody-header h2{margin:0;font-size:1.5em;color:var(--accent-primary);font-weight:600;letter-spacing:3px;text-transform:uppercase}.melody-buttons{display:flex;gap:15px;flex-wrap:wrap;justify-content:center}.melody-btn{padding:20px 30px;font-size:1.1em;font-weight:600;border:none;border-radius:12px;cursor:pointer;transition:all .3s ease;background:linear-gradient(135deg,var(--bg-tertiary) 0%,var(--bg-secondary) 100%);color:var(--accent-primary);border:2px solid var(--accent-primary);text-transform:uppercase;letter-spacing:2px;min-width:150px}.melody-btn:hover{background:var(--accent-primary);color:var(--btn-text-hover);transform:translateY(-3px);box-shadow:0 8px 25px var(--shadow-accent)}.melody-btn:active{transform:translateY(-1px)}.melody-btn.playing{background:var(--accent-primary);color:var(--btn-text-hover);box-shadow:0 0 30px var(--shadow-accent);animation:pulse-glow 1s infinite}@keyframes pulse-glow{0%,to{box-shadow:0 0 30px var(--shadow-accent)}50%{box-shadow:0 0 50px var(--shadow-accent)}}.stop-btn{padding:10px 20px;font-size:.9em;font-weight:600;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;background:var(--accent-secondary);color:#fff;text-transform:uppercase;letter-spacing:1px}.stop-btn:hover{background:color-mix(in srgb,var(--accent-secondary) 80%,white);transform:translateY(-2px);box-shadow:0 5px 15px var(--shadow-secondary)}.stop-btn:active{transform:translateY(0)}@media (max-width: 1024px){.equalizer-container{gap:8px;padding:20px 10px}.eq-channel{max-width:60px}.eq-level-bar{width:18px}.eq-channel input[type=range]::-webkit-slider-thumb{width:24px;height:12px}.eq-channel input[type=range]::-moz-range-thumb{width:24px;height:12px}}@media (max-width: 768px){#app{padding:15px}.app-header h1{font-size:1.8em}.main-controls{padding:20px}.controls-row{grid-template-columns:1fr;gap:20px}.action-buttons{flex-direction:column}.action-buttons button{width:100%}.keyboard{height:150px;padding:10px}.white-key{width:36px;height:120px}.black-key{width:24px;height:75px;margin-left:-13px;margin-right:-13px}.key-label{font-size:.65em}.equalizer-container{min-height:350px;gap:6px;padding:20px 5px}.eq-slider-container{min-height:280px}.eq-channel{max-width:40px}.eq-level-bar{width:14px}.eq-label{font-size:.75em}.eq-value{font-size:.65em;padding:2px 4px;min-width:32px}}@media (max-width: 480px){.equalizer-container{gap:4px}.eq-channel{max-width:28px}.eq-level-bar{width:10px}}
