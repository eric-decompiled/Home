:root{--bg-primary: #0a0e27;--bg-secondary: rgba(10, 10, 30, .95);--bg-tertiary: #1a2942;--accent-primary: #16c79a;--accent-secondary: #e94560;--accent-glow: rgba(22, 199, 154, .25);--text-primary: #e0e0e0;--text-secondary: #8892b0;--text-muted: #888888;--border-color: #0f3460;--canvas-bg: #1a1a2e;--canvas-curve: #0f3460;--canvas-shadow: rgba(0, 0, 0, .5);--ui-bg-button: rgba(255, 255, 255, .05);--ui-bg-button-hover: rgba(22, 199, 154, .15);--ui-bg-button-active: rgba(22, 199, 154, .25);--transition: .5s ease}body.light-mode{--bg-primary: #fef6e8;--bg-secondary: rgba(255, 248, 240, .98);--bg-tertiary: #fff5e6;--accent-primary: #d4763a;--accent-secondary: #c94b4b;--accent-glow: rgba(220, 120, 60, .3);--text-primary: #3d2814;--text-secondary: #7a5a3a;--text-muted: #9a7a5a;--border-color: #e8c4a0;--canvas-bg: #fffaf2;--canvas-curve: #e8c4a0;--canvas-shadow: rgba(180, 140, 100, .25);--ui-bg-button: rgba(180, 100, 60, .08);--ui-bg-button-hover: rgba(220, 120, 60, .15);--ui-bg-button-active: rgba(220, 120, 60, .25)}.theme-loading *{transition:none!important}body{margin:0;padding:0;min-height:100vh;background-color:var(--bg-primary);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:var(--text-primary);transition:background var(--transition),color var(--transition)}.theme-row{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:var(--ui-bg-button);border:1px solid var(--border-color);border-radius:6px}.theme-label{font-size:12px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.theme-controls{display:flex;align-items:center;gap:8px}.theme-icon{font-size:14px;transition:transform .5s ease}body.light-mode .theme-icon{transform:rotate(180deg)}.theme-toggle{position:relative;width:44px;height:22px;background:linear-gradient(135deg,#1a1a2e 0%,#0f3460 100%);border-radius:11px;cursor:pointer;border:none;padding:0;transition:background .5s ease;flex-shrink:0}.theme-toggle:after{content:"";position:absolute;top:3px;left:3px;width:16px;height:16px;background:linear-gradient(135deg,#666 0%,#888 100%);border-radius:50%;transition:transform .4s cubic-bezier(.4,0,.2,1),background .5s ease;box-shadow:0 1px 3px #0000004d}body.light-mode .theme-toggle{background:linear-gradient(135deg,#ffd89b 0%,#f0a500 100%)}body.light-mode .theme-toggle:after{transform:translate(22px);background:linear-gradient(135deg,#fff 0%,#ffe0a0 100%);box-shadow:0 1px 3px #0003}#app{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:40px}.container{display:grid;grid-template-columns:320px auto 320px;gap:40px;align-items:start;justify-content:center}canvas{border:2px solid var(--border-color);box-shadow:0 0 20px var(--canvas-shadow),0 0 40px var(--accent-glow);transition:border-color var(--transition),box-shadow var(--transition)}.sidebar{display:flex;flex-direction:column;gap:25px;width:320px;max-width:100%}.sidebar.left,.sidebar.right{align-self:flex-start}.info{background:var(--bg-secondary);padding:20px;border-radius:10px;border:1px solid var(--border-color);transition:background var(--transition),border-color var(--transition)}.info-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px}.info-header h2{margin:0;color:var(--accent-primary);font-size:20px;text-transform:uppercase;letter-spacing:.5px}.info-btn{width:24px;height:24px;border-radius:50%;background:var(--ui-bg-button);border:1px solid var(--accent-primary);color:var(--accent-primary);font-size:14px;font-weight:700;font-style:italic;font-family:Georgia,serif;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.info-btn:hover{background:var(--ui-bg-button-hover);box-shadow:0 0 8px var(--accent-glow)}.info p{margin:10px 0;font-size:13px;line-height:1.6;color:var(--text-secondary)}.info p.tip{font-size:11px;color:var(--text-muted);margin-top:15px}.info code{display:block;background:var(--bg-primary);padding:10px;border-radius:5px;margin:10px 0;font-family:Courier New,monospace;font-size:12px;color:var(--accent-secondary)}.presets{background:var(--bg-secondary);padding:20px;border-radius:10px;border:1px solid var(--border-color);transition:background var(--transition),border-color var(--transition)}.presets h3{margin:0 0 15px;color:var(--accent-primary);font-size:14px;text-transform:uppercase;letter-spacing:.5px}.listen-btn{border-color:var(--accent-secondary);color:var(--accent-secondary);background:rgba(233,69,96,.1)}.listen-btn:hover{background:rgba(233,69,96,.25);color:var(--accent-secondary)}.listen-btn:disabled{opacity:.5;cursor:not-allowed}.listen-btn.playing{background:rgba(233,69,96,.3);animation:pulse-sound .5s ease-in-out infinite alternate}@keyframes pulse-sound{0%{box-shadow:0 0 8px #e945604d}to{box-shadow:0 0 16px #e9456099}}.preset-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}.preset-btn{padding:8px 6px;background:var(--ui-bg-button);border:1px solid var(--accent-primary);border-radius:5px;color:var(--accent-primary);font-size:11px;font-weight:600;cursor:pointer;transition:all .2s;white-space:nowrap}.preset-btn:hover{background:var(--ui-bg-button-hover);color:var(--accent-primary)}.preset-btn:active{transform:scale(.98);background:var(--ui-bg-button-active)}.preset-btn.active{background:var(--ui-bg-button-active);border-color:var(--accent-primary);box-shadow:0 0 8px var(--accent-glow)}.sound-options{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;margin-top:12px;padding-top:12px;border-top:1px solid var(--border-color)}.sound-options label{display:flex;align-items:center;justify-content:center;gap:5px;padding:6px 4px;background:var(--ui-bg-button);border:1px solid var(--border-color);border-radius:5px;font-size:10px;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:all .2s}.sound-options label:hover{background:var(--ui-bg-button-hover);border-color:var(--accent-primary)}.sound-options label:has(input:checked){background:var(--ui-bg-button-active);border-color:var(--accent-primary);color:var(--accent-primary)}.sound-options input[type=radio]{display:none}.controls{display:flex;flex-direction:column;gap:20px;background:var(--bg-secondary);padding:25px;border-radius:10px;border:1px solid var(--border-color);transition:background var(--transition),border-color var(--transition)}.control-section{display:flex;flex-direction:column;gap:10px}.section-label{margin:0;font-size:11px;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:1px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.toggle-row{display:flex;align-items:center;justify-content:space-between;padding:4px 0}.toggle-label{font-size:12px;font-weight:500;color:var(--text-secondary)}.toggle-btn{position:relative;width:36px;height:20px;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:10px;cursor:pointer;transition:all .3s;padding:0;flex-shrink:0}.toggle-indicator{position:absolute;top:2px;left:2px;width:14px;height:14px;background:var(--text-muted);border-radius:50%;transition:all .3s cubic-bezier(.4,0,.2,1)}.toggle-btn.active{background:rgba(22,199,154,.3);border-color:var(--accent-primary)}.toggle-btn.active .toggle-indicator{left:18px;background:var(--accent-primary);box-shadow:0 0 8px var(--accent-glow)}.control-group{display:flex;flex-direction:column;gap:8px}.control-group label{font-size:12px;font-weight:500;color:var(--accent-primary);text-transform:uppercase;letter-spacing:.5px}.control-group span{color:var(--text-primary);font-weight:700;font-family:Courier New,monospace;font-size:13px}.checkbox-label{display:flex;align-items:center;gap:8px;margin-top:8px;cursor:pointer;font-size:13px;color:var(--text-secondary)!important;font-weight:400!important}.checkbox-label input[type=checkbox]{width:16px;height:16px;cursor:pointer;accent-color:var(--accent-primary)}.checkbox-label span{color:var(--text-secondary)!important;font-weight:400!important}input[type=range]{--progress: 0;width:100%;height:6px;background:linear-gradient(to right,rgba(22,199,154,.4) 0%,rgba(22,199,154,.4) calc(var(--progress) * 100%),var(--bg-tertiary) calc(var(--progress) * 100%),var(--bg-tertiary) 100%);border-radius:5px;outline:none;border:1px solid var(--border-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}input[type=range]:disabled{opacity:.3;cursor:not-allowed}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:14px;height:14px;background:var(--accent-primary);cursor:pointer;border-radius:50%;box-shadow:0 0 8px #16c79a80}input[type=range]::-moz-range-thumb{width:14px;height:14px;background:var(--accent-primary);cursor:pointer;border-radius:50%;border:none;box-shadow:0 0 8px #16c79a80}body.light-mode input[type=range]{background:linear-gradient(to right,rgba(212,118,58,.5) 0%,rgba(212,118,58,.5) calc(var(--progress) * 100%),var(--bg-tertiary) calc(var(--progress) * 100%),var(--bg-tertiary) 100%)}body.light-mode input[type=range]::-webkit-slider-thumb{box-shadow:0 0 8px #d4763a80}body.light-mode input[type=range]::-moz-range-thumb{box-shadow:0 0 8px #d4763a80}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:200;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s}.modal-overlay.open{opacity:1;visibility:visible}.modal{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;padding:30px;max-width:500px;max-height:80vh;overflow-y:auto;position:relative;transform:scale(.9);transition:transform .3s}.modal-overlay.open .modal{transform:scale(1)}.modal-close{position:absolute;top:12px;right:12px;width:32px;height:32px;border-radius:50%;background:var(--ui-bg-button);border:1px solid var(--border-color);color:var(--text-secondary);font-size:24px;line-height:1;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.modal-close:hover{background:var(--ui-bg-button-hover);color:var(--accent-primary);border-color:var(--accent-primary)}.modal h2{margin:0 0 20px;color:var(--accent-primary);font-size:22px;text-transform:uppercase;letter-spacing:.5px}.modal h3{margin:20px 0 10px;color:var(--accent-primary);font-size:14px;text-transform:uppercase;letter-spacing:.5px}.modal h3:first-of-type{margin-top:0}.modal p{margin:0 0 12px;font-size:14px;line-height:1.6;color:var(--text-secondary)}.modal code{display:block;background:var(--bg-primary);padding:12px;border-radius:6px;margin:12px 0;font-family:Courier New,monospace;font-size:13px;color:var(--accent-secondary);text-align:center}@media (max-width: 1200px){#app{padding:15px}.container{grid-template-columns:1fr;justify-items:center;gap:20px;width:100%;max-width:800px}.sidebar{width:100%;max-width:none}.sidebar.left,.sidebar.right{align-self:center}canvas{max-width:100%;height:auto}.preset-grid{grid-template-columns:repeat(3,1fr)}.info h2{font-size:18px}.info p{font-size:12px}.controls{padding:20px}}
